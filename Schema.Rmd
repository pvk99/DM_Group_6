---
title: "Group6_IB9HP0"
output: html_document
date: "2024-02-23"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

rm(list=ls())
library(readr)
library(RSQLite)
library(dplyr)
```
## Creating a connection to a database

```{r connect}
my_db <- RSQLite::dbConnect(RSQLite::SQLite(),"ecommerce.db")
```


## SQL Database Schema Creation

### ADS
```{sql connection = my_db}
CREATE TABLE ADS(
  AD_ID VARCHAR(30) PRIMARY KEY,
  PLATFORM VARCHAR(255),
  AD_TITLE VARCHAR(255),
  AD_TYPE VARCHAR(70),
  AD_START_TIME DATE,
  AD_END_TIME DATE,
  COST_PER_CLICK FLOAT,
  CLICK_THROUGH_RATE FLOAT,
  NUMBER_OF_CLICKS FLOAT
);
```

### PROMOTION
```{sql connection = my_db}
CREATE TABLE PROMOTION (
  PROMOTION_ID VARCHAR(30) PRIMARY KEY,
  PROMOTION_VALUE FLOAT,
  PROMOTION_START_TIME DATETIME,
  PROMOTION_END_TIME DATETIME,
  MINIMUM_PURCHASE_AMOUNT FLOAT,
  PROMOTION_TYPE VARCHAR(255),
  USAGE_COUNT INTEGER,
  USAGE_LIMIT INTEGER
);
```

### TRANSACTION
```{sql connection = my_db}
CREATE TABLE TRANSACTION (
  TRANSACTION_ID VARCHAR(30) PRIMARY KEY,
  TRANSACTION_VALUE FLOAT,
  ORDER_ID VARCHAR(30),
  PAYMENT_METHOD VARCHAR(50),
  TRANSACTION_STATUS VARCHAR(50)
  FOREIGN KEY ORDER_ID REFERENCES ORDERS(ORDER_ID)
);
```


### CATEGORY
```{sql connection = my_db}
CREATE TABLE CATEGORY(
  CATEGORY_ID VARCHAR(30) PRIMARY KEY,
  CATEGORY_NAME TEXT,
  GENDER TEXT,
  AGE_GROUP VARCHAR(30)
);
```


### SUPPLIER
```{sql connection = my_db}
CREATE TABLE SUPPLIER (
    SUPPLER_ID INT PRIMARY KEY,
    SUPPLIER_NAME INT,
    SUPPLIER_PHONE INT,
    SUPPLIER_COUNTRY VARCHAR(30),
    SUPPLIER_EMAIL VARCHAR(20)
);

```



### PRODUCT
```{sql connection=my_db}
CREATE TABLE IF NOT EXISTS SKU(
    PRODUCT_ID VARCHAR(30) PRIMARY KEY,
    SUPPLIER_ID VARCHAR(30),
    CATEGORY_ID VARCHAR(30),
    COLOR TEXT,
    UNIT_WEIGHT FLOAT,
    PRODUCT_SELLING_PRICE FLOAT,
    PRODUCT_PURCHASING_PRICE FLOAT,
    BRAND TEXT,
    FOREIGN KEY (SUPPLIER_ID) REFERENCES SUPPLIER(SUPPLIER_ID),
    FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY(CATEGORY_ID)
);
```


### CUSTOMERS
```{sql connection=my_db}
CREATE TABLE IF NOT EXISTS CUSTOMERS(
  CUSTOMER_ID VARCHAR(30) PRIMARY KEY,
  ORDER_ID VARCHAR(30),
  AD_ID VARCHAR(30),
  ACCOUNT_DETAILS INT,
  EMAIL_ADDRESS VARCHAR(30),
  PHONE_NUMBER INT,
  CUSTOMER_NAME VARCHAR(30),
  CUSTOMER_GENDER TEXT,
  CUSTOMER_AGE INT,
  CUSTOMER_D.o.B DATE,
  HOUSE_NUMBER VARCHAR(30),
  POSTCODE VARCHAR(30),
  FOREIGN KEY (ORDER_ID) REFERENCES ORDERS (ORDER_ID)
  FOREIGN KEY (ADS_ID) REFERENCES ADS (ADS_ID)
)


```



## Synthetic Data Generation

## Data Import and Quality Assurance

